{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            background: #f4f6fa;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        .admin-sidebar {
            background: linear-gradient(180deg, #4e54c8 0%, #8f94fb 100%);
            min-height: 100vh;
            color: #fff;
            padding: 0;
        }
        .admin-sidebar .nav-link {
            color: #fff;
            font-size: 1.08em;
            padding: 16px 24px;
            border-left: 4px solid transparent;
            transition: background 0.2s, border-color 0.2s;
            cursor: pointer;
        }
        .admin-sidebar .nav-link.active, .admin-sidebar .nav-link:hover {
            background: rgba(255,255,255,0.08);
            border-left: 4px solid #fff;
        }
        .submenu {
            background: rgba(44,62,80,0.08);
            border-radius: 0 0 8px 8px;
            margin-left: 10px;
            margin-bottom: 8px;
            padding-left: 12px;
        }
        .submenu .nav-link {
            color: #fff;
            font-size: 1em;
            padding: 8px 0 8px 16px;
            border: none;
            background: none;
        }
        .submenu .nav-link.active, .submenu .nav-link:hover {
            color: #4e54c8;
            background: #fff;
            border-radius: 6px;
        }
        .dashboard-header {
            background: linear-gradient(90deg, #4e54c8 0%, #8f94fb 100%);
            color: #fff;
            padding: 18px 32px;
            font-size: 1.5em;
            font-weight: 700;
            letter-spacing: 1px;
            border-radius: 0 0 12px 12px;
            margin-bottom: 24px;
        }
        .dashboard-content {
            padding: 32px 24px;
        }
        .dashboard-section {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(44,62,80,0.08);
            padding: 28px 20px 20px 20px;
            margin-bottom: 28px;
        }
        .dashboard-section h4 {
            font-size: 1.18em;
            font-weight: 600;
            color: #4e54c8;
            margin-bottom: 18px;
        }
        @media (max-width: 900px) {
            .admin-sidebar {
                min-height: auto;
            }
            .dashboard-content {
                padding: 18px 4vw;
            }
        }
        @media (max-width: 600px) {
            .dashboard-header {
                font-size: 1.1em;
                padding: 12px 8px;
            }
            .dashboard-content {
                padding: 8px 2vw;
            }
            .dashboard-section {
                padding: 12px 6px;
            }
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-3 col-lg-2 d-md-block admin-sidebar sidebar collapse">
            <div class="position-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showSection('dashboard-home', this)"><i class="fa fa-tachometer-alt"></i> Dashboard Home</a>
                    </li>
                    <!-- Accounts Submenu -->
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="toggleMenu('accounts-submenu', 'accounts-section', this)">
                            <i class="fa fa-users"></i> Accounts <i class="fa fa-caret-down float-end"></i>
                        </a>
                        <ul class="submenu nav flex-column" id="accounts-submenu" style="display:none;">
                            <li>
                                <a class="nav-link" href="#" onclick="showAccountsContent('self', this)">
                                    <i class="fa fa-user-plus"></i> Self Registrations
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showAccountsContent('registered', this)">
                                    <i class="fa fa-user-check"></i> Registrations
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showAccountsContent('messages', this)">
                                    <i class="fa fa-envelope"></i> Contact Messages
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('carts-section', this)"><i class="fa fa-shopping-cart"></i> Carts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('categories-section', this)"><i class="fa fa-list"></i> Categories</a>
                    </li>
                    <!-- Orders Submenu -->
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="toggleMenu('orders-submenu', 'orders-section', this)">
                            <i class="fa fa-shopping-bag"></i> Orders <i class="fa fa-caret-down float-end"></i>
                        </a>
                        <ul class="submenu nav flex-column" id="orders-submenu" style="display:none;">
                            <li>
                                <a class="nav-link" href="#" onclick="showOrdersContent('orders', this)">
                                    <i class="fa fa-shopping-bag"></i> Orders
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showOrdersContent('payments', this)">
                                    <i class="fa fa-money-bill"></i> Payments
                                </a>
                            </li>
                        </ul>
                    </li>
                    <!-- Store Submenu -->
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="toggleMenu('store-submenu', 'store-section', this)">
                            <i class="fa fa-store"></i> Store <i class="fa fa-caret-down float-end"></i>
                        </a>
                        <ul class="submenu nav flex-column" id="store-submenu" style="display:none;">
                            <li>
                                <a class="nav-link" href="#" onclick="showStoreContent('products', this)">
                                    <i class="fa fa-box"></i> Products
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showStoreContent('variations', this)">
                                    <i class="fa fa-cubes"></i> Variations
                                </a>
                            </li>
                        </ul>
                    </li>
                    <!-- CDMIS Submenu -->
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="toggleMenu('cdmis-submenu', 'cdmis-section', this)">
                            <i class="fa fa-layer-group"></i> CDMIS <i class="fa fa-caret-down float-end"></i>
                        </a>
                        <ul class="submenu nav flex-column" id="cdmis-submenu" style="display:none;">
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('groups', this)">
                                    <i class="fa fa-users"></i> Groups
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('activities', this)">
                                    <i class="fa fa-tasks"></i> Activities
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('payments', this)">
                                    <i class="fa fa-money-bill"></i> Payments
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('services', this)">
                                    <i class="fa fa-concierge-bell"></i> Services
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('trainings', this)">
                                    <i class="fa fa-chalkboard-teacher"></i> Trainings
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
        <!-- Main Content -->
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="dashboard-header">
                <i class="fa fa-cogs"></i> Admin Dashboard
            </div>
            <div class="dashboard-content">
                <div id="dashboard-home" class="dashboard-section">
                    <h4>Welcome to the Admin Dashboard</h4>
                    <p>Select a section from the sidebar to manage.</p>
                </div>
                <!-- Accounts Section -->
                <div id="accounts-section" class="dashboard-section" style="display:none;">
                    <div id="accounts-self" class="accounts-content">
                        <h4><i class="fa fa-user-plus"></i> Self Registrations</h4>
                        <a href="{% url 'cdmis:self_registrations' %}">View Self Registrations</a>
                    </div>
                    <div id="accounts-registered" class="accounts-content" style="display:none;">
                        <h4><i class="fa fa-user-check"></i> Registrations</h4>
                        <a href="{% url 'cdmis:registrations' %}">View Registrations</a>
                    </div>
                    <div id="accounts-messages" class="accounts-content" style="display:none;">
                        <h4><i class="fa fa-envelope"></i> Contact Messages</h4>
                        <a href="{% url 'cdmis:contact_messages' %}">View Contact Messages</a>
                    </div>
                </div>
                <!-- Carts Section -->
                <div id="carts-section" class="dashboard-section" style="display:none;">
                    <h4><i class="fa fa-shopping-cart"></i> Carts Management</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <i class="fa fa-shopping-cart"></i>
                            <a href="#">All Carts</a>
                        </li>
                        <li class="list-group-item">
                            <i class="fa fa-box"></i>
                            <a href="#">Cart Items</a>
                        </li>
                    </ul>
                </div>
                <!-- Categories Section -->
                <div id="categories-section" class="dashboard-section" style="display:none;">
                    <h4><i class="fa fa-list"></i> Categories Management</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <i class="fa fa-list"></i>
                            <a href="#">Manage Categories</a>
                        </li>
                    </ul>
                </div>
                <!-- Orders Section -->
                <div id="orders-section" class="dashboard-section" style="display:none;">
                    <div id="orders-orders" class="orders-content">
                        <h4><i class="fa fa-shopping-bag"></i> Orders</h4>
                        <a href="#">View Orders</a>
                    </div>
                    <div id="orders-payments" class="orders-content" style="display:none;">
                        <h4><i class="fa fa-money-bill"></i> Payments</h4>
                        <a href="#">View Payments</a>
                    </div>
                </div>
                <!-- Store Section -->
                <div id="store-section" class="dashboard-section" style="display:none;">
                    <div id="store-products" class="store-content">
                        <h4><i class="fa fa-box"></i> Products</h4>
                        <a href="#">Manage Products</a>
                    </div>
                    <div id="store-variations" class="store-content" style="display:none;">
                        <h4><i class="fa fa-cubes"></i> Variations</h4>
                        <a href="#">Manage Variations</a>
                    </div>
                </div>
                <!-- CDMIS Section -->
                <div id="cdmis-section" class="dashboard-section" style="display:none;">
                    <div id="cdmis-groups" class="cdmis-content">
                        <h4><i class="fa fa-users"></i> Groups</h4>
                        <a href="{% url 'cdmis:group_list' %}">Manage Groups</a>
                    </div>
                    <div id="cdmis-activities" class="cdmis-content" style="display:none;">
                        <h4><i class="fa fa-tasks"></i> Activities</h4>
                        <a href="{% url 'cdmis:activity_list' %}">Manage Activities</a>
                    </div>
                    <div id="cdmis-payments" class="cdmis-content" style="display:none;">
                        <h4><i class="fa fa-money-bill"></i> Payments</h4>
                        <a href="{% url 'cdmis:payment_list' %}">Manage Payments</a>
                    </div>
                    <div id="cdmis-services" class="cdmis-content" style="display:none;">
                        <h4><i class="fa fa-concierge-bell"></i> Services</h4>
                        <a href="{% url 'cdmis:service_list' %}">Manage Services</a>
                    </div>
                    <div id="cdmis-trainings" class="cdmis-content" style="display:none;">
                        <h4><i class="fa fa-chalkboard-teacher"></i> Trainings</h4>
                        <a href="{% url 'cdmis:training_list' %}">Manage Trainings</a>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<script>
function showSection(sectionId, el) {
    // Hide all sections
    var sections = document.querySelectorAll('.dashboard-section');
    sections.forEach(function(sec) { sec.style.display = 'none'; });
    // Show selected section
    document.getElementById(sectionId).style.display = '';
    // Remove active from all sidebar links
    var links = document.querySelectorAll('.admin-sidebar .nav-link');
    links.forEach(function(link) { link.classList.remove('active'); });
    // Set active on clicked link
    if(el) el.classList.add('active');
    // Hide all submenus
    ['accounts-submenu','orders-submenu','store-submenu','cdmis-submenu'].forEach(function(id){
        document.getElementById(id).style.display = 'none';
    });
}
function toggleMenu(submenuId, sectionId, el) {
    showSection(sectionId, el);
    // Hide other submenus
    ['accounts-submenu','orders-submenu','store-submenu','cdmis-submenu'].forEach(function(id){
        if(id !== submenuId) document.getElementById(id).style.display = 'none';
    });
    var submenu = document.getElementById(submenuId);
    submenu.style.display = submenu.style.display === 'none' ? '' : 'none';
    // Show first sub-content by default
    if(submenuId === 'accounts-submenu') showAccountsContent('self');
    if(submenuId === 'orders-submenu') showOrdersContent('orders');
    if(submenuId === 'store-submenu') showStoreContent('products');
    if(submenuId === 'cdmis-submenu') showCdmisContent('groups');
}
function showAccountsContent(subsection, el) {
    var contents = document.querySelectorAll('.accounts-content');
    contents.forEach(function(sec) { sec.style.display = 'none'; });
    document.getElementById('accounts-' + subsection).style.display = '';
    var submenuLinks = document.querySelectorAll('#accounts-submenu .nav-link');
    submenuLinks.forEach(function(link) { link.classList.remove('active'); });
    if(el) el.classList.add('active');
}
function showOrdersContent(subsection, el) {
    var contents = document.querySelectorAll('.orders-content');
    contents.forEach(function(sec) { sec.style.display = 'none'; });
    document.getElementById('orders-' + subsection).style.display = '';
    var submenuLinks = document.querySelectorAll('#orders-submenu .nav-link');
    submenuLinks.forEach(function(link) { link.classList.remove('active'); });
    if(el) el.classList.add('active');
}
function showStoreContent(subsection, el) {
    var contents = document.querySelectorAll('.store-content');
    contents.forEach(function(sec) { sec.style.display = 'none'; });
    document.getElementById('store-' + subsection).style.display = '';
    var submenuLinks = document.querySelectorAll('#store-submenu .nav-link');
    submenuLinks.forEach(function(link) { link.classList.remove('active'); });
    if(el) el.classList.add('active');
}
function showCdmisContent(subsection, el) {
    var contents = document.querySelectorAll('.cdmis-content');
    contents.forEach(function(sec) { sec.style.display = 'none'; });
    document.getElementById('cdmis-' + subsection).style.display = '';
    var submenuLinks = document.querySelectorAll('#cdmis-submenu .nav-link');
    submenuLinks.forEach(function(link) { link.classList.remove('active'); });
    if(el) el.classList.add('active');
}
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>