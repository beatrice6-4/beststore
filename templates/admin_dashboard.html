{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            background: #f4f6fa;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        .admin-sidebar {
            background: linear-gradient(180deg, #4e54c8 0%, #8f94fb 100%);
            min-height: 100vh;
            color: #fff;
            padding: 0;
        }
        .admin-sidebar .nav-link {
            color: #fff;
            font-size: 1.08em;
            padding: 16px 24px;
            border-left: 4px solid transparent;
            transition: background 0.2s, border-color 0.2s;
            cursor: pointer;
        }
        .admin-sidebar .nav-link.active, .admin-sidebar .nav-link:hover {
            background: rgba(255,255,255,0.08);
            border-left: 4px solid #fff;
        }
        .dashboard-header {
            background: linear-gradient(90deg, #4e54c8 0%, #8f94fb 100%);
            color: #fff;
            padding: 18px 32px;
            font-size: 1.5em;
            font-weight: 700;
            letter-spacing: 1px;
            border-radius: 0 0 12px 12px;
            margin-bottom: 24px;
        }
        .dashboard-content {
            padding: 32px 24px;
        }
        .dashboard-section {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(44,62,80,0.08);
            padding: 28px 20px 20px 20px;
            margin-bottom: 28px;
        }
        .dashboard-section h4 {
            font-size: 1.18em;
            font-weight: 600;
            color: #4e54c8;
            margin-bottom: 18px;
        }
        .dashboard-section .list-group-item {
            border: none;
            padding: 10px 0;
            font-size: 1em;
        }
        .dashboard-section .list-group-item i {
            color: #4e54c8;
            margin-right: 8px;
        }
        .cdmis-submenu {
            background: rgba(44,62,80,0.08);
            border-radius: 0 0 8px 8px;
            margin-left: 10px;
            margin-bottom: 8px;
            padding-left: 12px;
        }
        .cdmis-submenu .nav-link {
            color: #fff;
            font-size: 1em;
            padding: 8px 0 8px 16px;
            border: none;
            background: none;
        }
        .cdmis-submenu .nav-link.active, .cdmis-submenu .nav-link:hover {
            color: #4e54c8;
            background: #fff;
            border-radius: 6px;
        }
        @media (max-width: 900px) {
            .admin-sidebar {
                min-height: auto;
            }
            .dashboard-content {
                padding: 18px 4vw;
            }
        }
        @media (max-width: 600px) {
            .dashboard-header {
                font-size: 1.1em;
                padding: 12px 8px;
            }
            .dashboard-content {
                padding: 8px 2vw;
            }
            .dashboard-section {
                padding: 12px 6px;
            }
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-3 col-lg-2 d-md-block admin-sidebar sidebar collapse">
            <div class="position-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showSection('dashboard-home', this)"><i class="fa fa-tachometer-alt"></i> Dashboard Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('accounts-section', this)"><i class="fa fa-users"></i> Accounts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('carts-section', this)"><i class="fa fa-shopping-cart"></i> Carts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('categories-section', this)"><i class="fa fa-list"></i> Categories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('orders-section', this)"><i class="fa fa-shopping-bag"></i> Orders</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('store-section', this)"><i class="fa fa-store"></i> Store</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="toggleCdmisMenu(this)"><i class="fa fa-layer-group"></i> CDMIS <i class="fa fa-caret-down float-end"></i></a>
                        <ul class="cdmis-submenu nav flex-column" id="cdmis-submenu" style="display:none;">
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('groups', this)"><i class="fa fa-users"></i> Groups</a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('activities', this)"><i class="fa fa-tasks"></i> Activities</a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('payments', this)"><i class="fa fa-money-bill"></i> Payments</a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('services', this)"><i class="fa fa-concierge-bell"></i> Services</a>
                            </li>
                            <li>
                                <a class="nav-link" href="#" onclick="showCdmisContent('trainings', this)"><i class="fa fa-chalkboard-teacher"></i> Trainings</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
        <!-- Main Content -->
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="dashboard-header">
                <i class="fa fa-cogs"></i> Admin Dashboard
            </div>
            <div class="dashboard-content">
                <div id="dashboard-home" class="dashboard-section">
                    <h4>Welcome to the Admin Dashboard</h4>
                    <p>Select a section from the sidebar to manage.</p>
                </div>
                <div id="accounts-section" class="dashboard-section" style="display:none;">
                    <h4><i class="fa fa-users"></i> Accounts Management</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <i class="fa fa-user"></i>
                            <a href="{% url 'cdmis:user_list' %}">Registered Accounts</a>
                        </li>
                        <li class="list-group-item">
                            <i class="fa fa-envelope"></i>
                            <a href="{% url 'cdmis:contact_messages' %}">Contact Messages</a>
                        </li>
                    </ul>
                </div>
                <div id="carts-section" class="dashboard-section" style="display:none;">
                    <h4><i class="fa fa-shopping-cart"></i> Carts Management</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <i class="fa fa-shopping-cart"></i>
                            <a href="#">All Carts</a>
                        </li>
                        <li class="list-group-item">
                            <i class="fa fa-box"></i>
                            <a href="#">Cart Items</a>
                        </li>
                    </ul>
                </div>
                <div id="categories-section" class="dashboard-section" style="display:none;">
                    <h4><i class="fa fa-list"></i> Categories Management</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <i class="fa fa-list"></i>
                            <a href="#">Manage Categories</a>
                        </li>
                    </ul>
                </div>
                <div id="orders-section" class="dashboard-section" style="display:none;">
                    <h4><i class="fa fa-shopping-bag"></i> Orders Management</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <i class="fa fa-shopping-bag"></i>
                            <a href="{% url 'cdmis:order_list' %}">All Orders</a>
                        </li>
                        <li class="list-group-item">
                            <i class="fa fa-money-bill"></i>
                            <a href="#">Payments</a>
                        </li>
                    </ul>
                </div>
                <div id="store-section" class="dashboard-section" style="display:none;">
                    <h4><i class="fa fa-store"></i> Store Management</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <i class="fa fa-box"></i>
                            <a href="#">Products</a>
                        </li>
                        <li class="list-group-item">
                            <i class="fa fa-cubes"></i>
                            <a href="#">Product Variations</a>
                        </li>
                    </ul>
                </div>
                <!-- CDMIS Main Section -->
                <div id="cdmis-section" class="dashboard-section" style="display:none;">
                    <div id="cdmis-groups" class="cdmis-content">
                        <h4><i class="fa fa-users"></i> Groups</h4>
                        <a href="{% url 'cdmis:group_list' %}">Manage Groups</a>
                    </div>
                    <div id="cdmis-activities" class="cdmis-content" style="display:none;">
                        <h4><i class="fa fa-tasks"></i> Activities</h4>
                        <a href="{% url 'cdmis:activity_list' %}">Manage Activities</a>
                    </div>
                    <div id="cdmis-payments" class="cdmis-content" style="display:none;">
                        <h4><i class="fa fa-money-bill"></i> Payments</h4>
                        <a href="{% url 'cdmis:payment_list' %}">Manage Payments</a>
                    </div>
                    <div id="cdmis-services" class="cdmis-content" style="display:none;">
                        <h4><i class="fa fa-concierge-bell"></i> Services</h4>
                        <a href="{% url 'cdmis:service_list' %}">Manage Services</a>
                    </div>
                    <div id="cdmis-trainings" class="cdmis-content" style="display:none;">
                        <h4><i class="fa fa-chalkboard-teacher"></i> Trainings</h4>
                        <a href="{% url 'cdmis:training_list' %}">Manage Trainings</a>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<script>
function showSection(sectionId, el) {
    // Hide all sections
    var sections = document.querySelectorAll('.dashboard-section');
    sections.forEach(function(sec) { sec.style.display = 'none'; });
    // Show selected section
    document.getElementById(sectionId).style.display = '';
    // Remove active from all sidebar links
    var links = document.querySelectorAll('.admin-sidebar .nav-link');
    links.forEach(function(link) { link.classList.remove('active'); });
    // Set active on clicked link
    if(el) el.classList.add('active');
    // Hide CDMIS submenu if not CDMIS
    if(sectionId !== 'cdmis-section') {
        document.getElementById('cdmis-submenu').style.display = 'none';
    }
}
function toggleCdmisMenu(el) {
    showSection('cdmis-section', el);
    var submenu = document.getElementById('cdmis-submenu');
    submenu.style.display = submenu.style.display === 'none' ? '' : 'none';
    // Show Groups by default
    showCdmisContent('groups');
}
function showCdmisContent(subsection, el) {
    // Hide all CDMIS content
    var cdmisContents = document.querySelectorAll('.cdmis-content');
    cdmisContents.forEach(function(sec) { sec.style.display = 'none'; });
    // Show selected subsection
    document.getElementById('cdmis-' + subsection).style.display = '';
    // Remove active from all submenu links
    var submenuLinks = document.querySelectorAll('#cdmis-submenu .nav-link');
    submenuLinks.forEach(function(link) { link.classList.remove('active'); });
    // Set active on clicked submenu link
    if(el) el.classList.add('active');
}
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>