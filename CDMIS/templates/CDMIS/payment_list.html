{% extends 'gov.html' %}
{% block content %}
<style>
body {
    background: #f8f9fa;
    font-family: 'Segoe UI', Arial, sans-serif;
}
h3 {
    color: #2d7a2d;
    font-weight: 700;
    margin-top: 32px;
    margin-bottom: 12px;
}
.table {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 8px #e3e3e3;
    margin-bottom: 24px;
    overflow: hidden;
}
.table thead {
    background: #eafbe7;
    color: #2d7a2d;
    font-weight: 600;
}
.table th, .table td {
    padding: 12px 10px;
    vertical-align: middle;
    border-bottom: 1px solid #e3e3e3;
}
.table-striped tbody tr:nth-of-type(odd) {
    background-color: #f6fff4;
}
.table-striped tbody tr:hover {
    background-color: #eafbe7;
    transition: background 0.2s;
}
.mt-4 {
    margin-top: 2rem !important;
}
@media (max-width: 700px) {
    .table th, .table td { padding: 8px 4px; font-size: 0.95em; }
    h3 { font-size: 1.1em; }
}
</style>

<h2 class="mb-4">Payments Grouped by Date</h2>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Date</th>
            <th>Group</th>
            <th>Amount</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        {% for group in grouped_payments %}
            <tr style="background:#eafbe7;">
                <td colspan="4"><strong>{{ group.date }}</strong> &mdash; <span style="color:#2d7a2d;">Total: {{ group.date_total }}</span></td>
            </tr>
            {% for payment in group.payments %}
            <tr>
                <td></td>
                <td>{{ payment.group.name }}</td>
                <td>{{ payment.amount }}</td>
                <td>{{ payment.notes }}</td>
            </tr>
            {% endfor %}
        {% empty %}
            <tr><td colspan="4">No payments recorded.</td></tr>
        {% endfor %}
    </tbody>
</table>

<table class="table table-bordered mt-4">
    <thead>
        <tr>
            <th>Total Amount of All Payments</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>{{ total_amount }}</td>
        </tr>
    </tbody>
</table>
{% endblock %}