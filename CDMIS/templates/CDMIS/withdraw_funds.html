{% extends 'gov.html' %}
{% block title %}Withdraw Funds{% endblock %}
{% block breadcrumb %}Withdraw Funds{% endblock %}
{% load static %}
{% block content %}
<style>
h1 {
    font-size: 2rem;
    font-weight: bold;
    color: #004080;
}

.card {
    border-radius: 10px;
    overflow: hidden;
}

.card-header {
    font-size: 1.25rem;
    font-weight: bold;
}

.btn-success {
    background: linear-gradient(135deg, #28a745, #218838);
    border: none;
    transition: background 0.3s ease;
}

.btn-success:hover {
    background: linear-gradient(135deg, #218838, #1e7e34);
}

.alert {
    font-size: 1rem;
    font-weight: 500;
}
</style>
<div class="container mt-5">
    <h1 class="text-center mb-4">Withdraw Funds</h1>

    <!-- Current Balance Section -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <p class="h5"><strong>Current Balance:</strong> <span class="text-success">${{ account.balance }}</span></p>
        </div>
    </div>

    <!-- Withdrawal Form -->
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">Withdrawal Form</h5>
        </div>
        <div class="card-body">
            <form method="POST" action="{% url 'cdmis:withdraw_funds' %}">
                {% csrf_token %}
                <div class="form-group">
                    <label for="amount" class="font-weight-bold">Withdrawal Amount:</label>
                    <input type="number" step="0.01" name="amount" id="amount" class="form-control" placeholder="Enter amount" required>
                </div>
                <div class="form-group">
                    <label for="phone_number" class="font-weight-bold">Phone Number:</label>
                    <input type="text" name="phone_number" id="phone_number" class="form-control" value="{{ account.phone_number }}" placeholder="Enter phone number" required>
                </div>
                <button type="submit" class="btn btn-success btn-block">Withdraw</button>
            </form>
        </div>
    </div>

    <!-- Messages Section -->
    {% if messages %}
        <div class="mt-4">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}